% --- SVF Master Setup (The BIOS) ---

% 1. Core LaTeX Hardware
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath, amssymb, amsfonts, amsthm} % Essential Math
\usepackage{bm}                                 % Bold Greek for Tensors
\usepackage{siunitx}                            % For Z_0, L, and C values
\usepackage{graphicx}                           % For simulation PNGs
\usepackage{cleveref}                           % Intelligent cross-referencing
\usepackage{listings}                           % For code blocks
\usepackage{xcolor}                             % Required for color styling
\usepackage{tabularx}                           % For margin-safe tables

% 2. Styling Containers (The Boxes)
\usepackage{tcolorbox}
\tcbuselibrary{skins, breakable}

% Axiom Box: Gold/Blue for fundamental SVF postulates
\newtcolorbox{axiombox}[1][]{
    colback=blue!2!white, colframe=blue!75!black, fonttitle=\bfseries,
    title=SVF Postulate: #1, enhanced, breakable, attach title to upper, 
    after title={:\enskip}, arc=0mm}

% Example Environment: Blue for worked derivations
\newtcolorbox[auto counter, number within=chapter]{examplebox}[1][]{
    colback=blue!5!white, colframe=blue!75!black, fonttitle=\bfseries,
    title=Example \thetcbcounter: #1, enhanced, breakable, attach title to upper, 
    after title={:\enskip}}

% Problem Environment: Red for theory challenges
\newtcolorbox[auto counter, number within=chapter]{problembox}[1][]{
    colback=red!5!white, colframe=red!75!black, fonttitle=\bfseries,
    title=Problem \thetcbcounter: #1, enhanced, breakable}

% Simulation Environment: Green for FDTD/Graph modules
\newtcolorbox[auto counter, number within=chapter]{simbox}[1][]{
    colback=green!5!white, colframe=green!50!black, fonttitle=\bfseries,
    title=Computational Module \thetcbcounter: #1, enhanced, breakable}

% 3. Global SVF Commands (Collision-Proof)
% These define the constants once. Remove them from main.tex to avoid errors.
\providecommand{\Lvac}{L_{node}}       
\providecommand{\Cvac}{C_{node}}       
\providecommand{\Zvac}{Z_0}               
\providecommand{\Wcut}{\omega_{sat}}   
\providecommand{\lp}{\ell_P}            

% 4. Code Block Styling (For Simulation snippets)
\lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    stringstyle=\color{green!50!black},
    commentstyle=\color{gray},
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    frame=single,
    breaklines=true
}